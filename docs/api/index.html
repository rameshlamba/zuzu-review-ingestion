<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Review System Microservice API Documentation - v1.0.0</title><meta name="description" content="Documentation for Review System Microservice API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Review System Microservice API Documentation - v1.0.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Review System Microservice API Documentation - v1.0.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="review-system-microservice" class="tsd-anchor-link">Review System Microservice<a href="#review-system-microservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A robust and scalable microservice that retrieves hotel reviews from AWS S3, processes the data, and stores it in a PostgreSQL database. Built with NestJS and TypeScript with comprehensive testing and CI/CD pipeline.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Automated S3 Ingestion</strong>: Periodically pulls review files from AWS S3 bucket</li>
<li><strong>Data Validation</strong>: Validates and transforms JSON Lines (.jl) review data</li>
<li><strong>Idempotent Processing</strong>: Only processes new files, avoiding duplicates</li>
<li><strong>Concurrent Processing</strong>: Configurable concurrency for better performance</li>
<li><strong>Robust Error Handling</strong>: Comprehensive error handling and logging</li>
<li><strong>REST API</strong>: Complete API for reviews with filtering, pagination, and statistics</li>
<li><strong>CLI Tools</strong>: Command-line interface for manual operations</li>
<li><strong>Scheduled Jobs</strong>: Daily automated ingestion via cron jobs</li>
<li><strong>Docker Support</strong>: Fully containerized with Docker Compose</li>
<li><strong>Database Schema</strong>: Optimized PostgreSQL schema with proper indexing</li>
<li><strong>Comprehensive Testing</strong>: 108 tests with 83%+ coverage</li>
<li><strong>CI/CD Pipeline</strong>: GitHub Actions with automated testing, security scanning, and deployment</li>
</ul>
<h2 id="architecture" class="tsd-anchor-link">Architecture<a href="#architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐</span><br/><span class="hl-0">│   </span><span class="hl-1">AWS</span><span class="hl-0"> </span><span class="hl-1">S3</span><span class="hl-0">        │    │   </span><span class="hl-2">Microservice</span><span class="hl-0">  │    │   </span><span class="hl-2">PostgreSQL</span><span class="hl-0">    │</span><br/><span class="hl-0">│   (.</span><span class="hl-2">jl</span><span class="hl-0"> </span><span class="hl-2">files</span><span class="hl-0">)   │───▶│   (</span><span class="hl-2">NestJS</span><span class="hl-0">)      │───▶│   </span><span class="hl-2">Database</span><span class="hl-0">      │</span><br/><span class="hl-0">└─────────────────┘    └─────────────────┘    └─────────────────┘</span><br/><span class="hl-0">                              │</span><br/><span class="hl-0">                              ▼</span><br/><span class="hl-0">                       ┌─────────────────┐</span><br/><span class="hl-0">                       │   </span><span class="hl-1">REST</span><span class="hl-0"> </span><span class="hl-1">API</span><span class="hl-0">      │</span><br/><span class="hl-0">                       │   /</span><span class="hl-2">ingestion</span><span class="hl-3">/*  │</span><br/><span class="hl-3">                       └─────────────────┘</span>
</code><button>Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Docker and Docker Compose</li>
<li>AWS Account with S3 access</li>
<li>AWS Access Key ID and Secret Access Key</li>
<li>Node.js 18+ (for local development)</li>
</ul>
<h3 id="1-environment-setup" class="tsd-anchor-link">1. Environment Setup<a href="#1-environment-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Copy the example environment file and configure your AWS credentials:</p>
<pre><code class="bash"><span class="hl-4">cp</span><span class="hl-0"> </span><span class="hl-5">.env.example</span><span class="hl-0"> </span><span class="hl-5">.env</span>
</code><button type="button">Copy</button></pre>

<p>Edit <code>.env</code> with your AWS credentials and S3 bucket information:</p>
<pre><code class="env">AWS_REGION=eu-north-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
S3_BUCKET=zuzu-reviews
S3_PREFIX=
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=reviews
</code><button type="button">Copy</button></pre>

<h3 id="2-aws-s3-setup" class="tsd-anchor-link">2. AWS S3 Setup<a href="#2-aws-s3-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Your S3 bucket <code>zuzu-reviews</code> should contain .jl files directly in the root:</p>
<pre><code class="bash"><span class="hl-3"># Upload sample .jl files directly to bucket root</span><br/><span class="hl-4">aws</span><span class="hl-0"> </span><span class="hl-5">s3</span><span class="hl-0"> </span><span class="hl-5">cp</span><span class="hl-0"> </span><span class="hl-5">agoda_com_2025-04-10.jl</span><span class="hl-0"> </span><span class="hl-5">s3://zuzu-reviews/</span><br/><span class="hl-4">aws</span><span class="hl-0"> </span><span class="hl-5">s3</span><span class="hl-0"> </span><span class="hl-5">cp</span><span class="hl-0"> </span><span class="hl-5">booking_com_2025-04-10.jl</span><span class="hl-0"> </span><span class="hl-5">s3://zuzu-reviews/</span><br/><span class="hl-4">aws</span><span class="hl-0"> </span><span class="hl-5">s3</span><span class="hl-0"> </span><span class="hl-5">cp</span><span class="hl-0"> </span><span class="hl-5">expedia_com_2025-04-10.jl</span><span class="hl-0"> </span><span class="hl-5">s3://zuzu-reviews/</span><br/><br/><span class="hl-3"># List files to verify</span><br/><span class="hl-4">aws</span><span class="hl-0"> </span><span class="hl-5">s3</span><span class="hl-0"> </span><span class="hl-5">ls</span><span class="hl-0"> </span><span class="hl-5">s3://zuzu-reviews/</span><br/><br/><span class="hl-3"># Or use the provided script to upload sample data</span><br/><span class="hl-4">./scripts/upload-sample-data.sh</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-database-setup" class="tsd-anchor-link">3. Database Setup<a href="#3-database-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Install dependencies</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">install</span><br/><br/><span class="hl-3"># Start PostgreSQL</span><br/><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-6">-f</span><span class="hl-0"> </span><span class="hl-5">docker-compose.dev.yml</span><span class="hl-0"> </span><span class="hl-5">up</span><span class="hl-0"> </span><span class="hl-6">-d</span><span class="hl-0"> </span><span class="hl-5">postgres</span><br/><br/><span class="hl-3"># Wait for PostgreSQL to be ready, then run migrations</span><br/><span class="hl-4">./scripts/run-migrations.sh</span><br/><br/><span class="hl-3"># Or run migrations manually</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">migration:run</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-local-development" class="tsd-anchor-link">4. Local Development<a href="#4-local-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Run the application in development mode</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">start:dev</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-test-the-setup" class="tsd-anchor-link">5. Test the Setup<a href="#5-test-the-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Trigger manual ingestion</span><br/><span class="hl-4">curl</span><span class="hl-0"> </span><span class="hl-6">-X</span><span class="hl-0"> </span><span class="hl-5">POST</span><span class="hl-0"> </span><span class="hl-5">http://localhost:3000/ingestion/trigger</span><br/><br/><span class="hl-3"># Check ingestion status</span><br/><span class="hl-4">curl</span><span class="hl-0"> </span><span class="hl-5">http://localhost:3000/ingestion/status</span><br/><br/><span class="hl-3"># Use CLI tools</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli</span><span class="hl-0"> </span><span class="hl-5">ingest</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli</span><span class="hl-0"> </span><span class="hl-5">status</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli</span><span class="hl-0"> </span><span class="hl-5">stats</span>
</code><button type="button">Copy</button></pre>

<h3 id="6-production-deployment" class="tsd-anchor-link">6. Production Deployment<a href="#6-production-deployment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Start all services including the app</span><br/><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-5">up</span><span class="hl-0"> </span><span class="hl-6">-d</span><br/><br/><span class="hl-3"># View logs</span><br/><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-5">logs</span><span class="hl-0"> </span><span class="hl-6">-f</span><span class="hl-0"> </span><span class="hl-5">app</span><br/><br/><span class="hl-3"># Stop services</span><br/><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-5">down</span>
</code><button type="button">Copy</button></pre>

<h2 id="available-commands" class="tsd-anchor-link">Available Commands<a href="#available-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="database-migrations" class="tsd-anchor-link">Database Migrations<a href="#database-migrations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">migration:run</span><span class="hl-0">      </span><span class="hl-3"># Run pending migrations</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">migration:show</span><span class="hl-0">     </span><span class="hl-3"># Show migration status</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">migration:revert</span><span class="hl-0">   </span><span class="hl-3"># Revert last migration</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">migration:generate</span><span class="hl-0"> </span><span class="hl-3"># Generate new migration</span><br/><span class="hl-4">./scripts/run-migrations.sh</span><span class="hl-0"> </span><span class="hl-3"># Run migrations with checks</span>
</code><button type="button">Copy</button></pre>

<h3 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">start:dev</span><span class="hl-0">          </span><span class="hl-3"># Start in development mode</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">build</span><span class="hl-0">             </span><span class="hl-3"># Build for production</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">start:prod</span><span class="hl-0">        </span><span class="hl-3"># Start production build</span>
</code><button type="button">Copy</button></pre>

<h3 id="cli-tools" class="tsd-anchor-link">CLI Tools<a href="#cli-tools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli:ingest</span><span class="hl-0">        </span><span class="hl-3"># Manual ingestion</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli:status</span><span class="hl-0">        </span><span class="hl-3"># Check ingestion status</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">cli:stats</span><span class="hl-0">         </span><span class="hl-3"># View review statistics</span>
</code><button type="button">Copy</button></pre>

<h3 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">test</span><span class="hl-0">                  </span><span class="hl-3"># Run unit tests</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:cov</span><span class="hl-0">          </span><span class="hl-3"># Test with coverage</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:e2e</span><span class="hl-0">          </span><span class="hl-3"># End-to-end tests</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:watch</span><span class="hl-0">        </span><span class="hl-3"># Watch mode for development</span><br/><span class="hl-4">./scripts/test-local-setup.sh</span><span class="hl-0">  </span><span class="hl-3"># Test AWS setup</span>
</code><button type="button">Copy</button></pre>

<h3 id="docker" class="tsd-anchor-link">Docker<a href="#docker" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-5">up</span><span class="hl-0"> </span><span class="hl-6">-d</span><span class="hl-0">      </span><span class="hl-3"># Start all services (production)</span><br/><span class="hl-4">docker-compose</span><span class="hl-0"> </span><span class="hl-6">-f</span><span class="hl-0"> </span><span class="hl-5">docker-compose.dev.yml</span><span class="hl-0"> </span><span class="hl-5">up</span><span class="hl-0"> </span><span class="hl-6">-d</span><span class="hl-0"> </span><span class="hl-5">postgres</span><span class="hl-0">  </span><span class="hl-3"># Start only PostgreSQL</span>
</code><button type="button">Copy</button></pre>

<h2 id="api-endpoints" class="tsd-anchor-link">API Endpoints<a href="#api-endpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="ingestion-endpoints" class="tsd-anchor-link">Ingestion Endpoints<a href="#ingestion-endpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="trigger-manual-ingestion" class="tsd-anchor-link">Trigger Manual Ingestion<a href="#trigger-manual-ingestion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">POST</span><span class="hl-0"> </span><span class="hl-5">/ingestion/trigger</span>
</code><button type="button">Copy</button></pre>

<p>Response:</p>
<pre><code class="json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;success&quot;</span><span class="hl-0">: </span><span class="hl-6">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;message&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;Ingestion completed successfully&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;result&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;processed&quot;</span><span class="hl-0">: </span><span class="hl-8">5</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;skipped&quot;</span><span class="hl-0">: </span><span class="hl-8">2</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;errors&quot;</span><span class="hl-0">: </span><span class="hl-8">0</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-ingestion-status" class="tsd-anchor-link">Get Ingestion Status<a href="#get-ingestion-status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/ingestion/status</span>
</code><button type="button">Copy</button></pre>

<p>Response:</p>
<pre><code class="json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;success&quot;</span><span class="hl-0">: </span><span class="hl-6">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;isRunning&quot;</span><span class="hl-0">: </span><span class="hl-6">false</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;stats&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;totalReviews&quot;</span><span class="hl-0">: </span><span class="hl-8">15420</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;totalFiles&quot;</span><span class="hl-0">: </span><span class="hl-8">7</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;platformStats&quot;</span><span class="hl-0">: [</span><br/><span class="hl-0">      {</span><br/><span class="hl-0">        </span><span class="hl-7">&quot;platform&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;Agoda&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-7">&quot;count&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;8500&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-7">&quot;avgRating&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;7.2&quot;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    ]</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="reviews-api-endpoints" class="tsd-anchor-link">Reviews API Endpoints<a href="#reviews-api-endpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="get-reviews-with-filtering" class="tsd-anchor-link">Get Reviews with Filtering<a href="#get-reviews-with-filtering" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/reviews?page=</span><span class="hl-8">1</span><span class="hl-0">&amp;</span><span class="hl-2">limit</span><span class="hl-0">=</span><span class="hl-5">20</span><span class="hl-0">&amp;</span><span class="hl-2">platform</span><span class="hl-0">=</span><span class="hl-5">Agoda</span><span class="hl-0">&amp;</span><span class="hl-2">minRating</span><span class="hl-0">=</span><span class="hl-5">7</span><span class="hl-0">&amp;</span><span class="hl-2">sortBy</span><span class="hl-0">=</span><span class="hl-5">rating</span><span class="hl-0">&amp;</span><span class="hl-2">sortOrder</span><span class="hl-0">=</span><span class="hl-5">DESC</span>
</code><button type="button">Copy</button></pre>

<p>Query Parameters:</p>
<ul>
<li><code>page</code> (number): Page number (default: 1)</li>
<li><code>limit</code> (number): Items per page (default: 20, max: 100)</li>
<li><code>hotelId</code> (number): Filter by hotel ID</li>
<li><code>platform</code> (string): Filter by platform</li>
<li><code>minRating</code>/<code>maxRating</code> (number): Rating range filter</li>
<li><code>startDate</code>/<code>endDate</code> (string): Date range filter (YYYY-MM-DD)</li>
<li><code>search</code> (string): Search in comments and hotel names</li>
<li><code>sortBy</code> (string): Sort field (reviewDate, rating, hotelName, platform)</li>
<li><code>sortOrder</code> (string): ASC or DESC</li>
</ul>
<h4 id="get-review-by-id" class="tsd-anchor-link">Get Review by ID<a href="#get-review-by-id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/reviews/:id</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-hotel-reviews" class="tsd-anchor-link">Get Hotel Reviews<a href="#get-hotel-reviews" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/reviews/hotels/:hotelId</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-review-statistics" class="tsd-anchor-link">Get Review Statistics<a href="#get-review-statistics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/reviews/stats</span>
</code><button type="button">Copy</button></pre>

<h4 id="get-available-platforms" class="tsd-anchor-link">Get Available Platforms<a href="#get-available-platforms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-4">GET</span><span class="hl-0"> </span><span class="hl-5">/reviews/platforms</span>
</code><button type="button">Copy</button></pre>

<p>For complete API documentation, see <a href="media/API_DOCUMENTATION.md">API_DOCUMENTATION.md</a></p>
<h2 id="data-schema" class="tsd-anchor-link">Data Schema<a href="#data-schema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="review-entity" class="tsd-anchor-link">Review Entity<a href="#review-entity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The service processes JSON Lines files with the following structure:</p>
<pre><code class="json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;hotelId&quot;</span><span class="hl-0">: </span><span class="hl-8">10984</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;platform&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;Agoda&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;hotelName&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;Oscar Saigon Hotel&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;comment&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;hotelReviewId&quot;</span><span class="hl-0">: </span><span class="hl-8">948353737</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;providerId&quot;</span><span class="hl-0">: </span><span class="hl-8">332</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;rating&quot;</span><span class="hl-0">: </span><span class="hl-8">6.4</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;reviewComments&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;Hotel room is basic...&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;reviewDate&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;2025-04-10T05:37:00+07:00&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">&quot;reviewerInfo&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">      </span><span class="hl-7">&quot;countryName&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;India&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-7">&quot;displayMemberName&quot;</span><span class="hl-0">: </span><span class="hl-5">&quot;********&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-7">&quot;lengthOfStay&quot;</span><span class="hl-0">: </span><span class="hl-8">2</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-7">&quot;overallByProviders&quot;</span><span class="hl-0">: [</span><span class="hl-9">...</span><span class="hl-0">]</span><br/><span class="hl-0">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="database-tables" class="tsd-anchor-link">Database Tables<a href="#database-tables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>reviews</strong>: Main review data with proper indexing</li>
<li><strong>processed_files</strong>: Tracks processed files for idempotent operation</li>
</ul>
<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="environment-variables" class="tsd-anchor-link">Environment Variables<a href="#environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AWS_REGION</code></td>
<td>AWS region for S3</td>
<td><code>us-east-1</code></td>
</tr>
<tr>
<td><code>S3_BUCKET</code></td>
<td>S3 bucket name</td>
<td>Required</td>
</tr>
<tr>
<td><code>S3_PREFIX</code></td>
<td>S3 prefix/folder path</td>
<td><code>reviews/</code></td>
</tr>
<tr>
<td><code>DB_HOST</code></td>
<td>PostgreSQL host</td>
<td><code>localhost</code></td>
</tr>
<tr>
<td><code>DB_PORT</code></td>
<td>PostgreSQL port</td>
<td><code>5432</code></td>
</tr>
<tr>
<td><code>DB_USERNAME</code></td>
<td>Database username</td>
<td><code>postgres</code></td>
</tr>
<tr>
<td><code>DB_PASSWORD</code></td>
<td>Database password</td>
<td>Required</td>
</tr>
<tr>
<td><code>DB_NAME</code></td>
<td>Database name</td>
<td><code>reviews</code></td>
</tr>
<tr>
<td><code>INGESTION_CONCURRENCY</code></td>
<td>Concurrent file processing</td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>NODE_ENV</code></td>
<td>Environment mode</td>
<td><code>development</code></td>
</tr>
</tbody>
</table>
<h3 id="scheduled-jobs" class="tsd-anchor-link">Scheduled Jobs<a href="#scheduled-jobs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Daily Ingestion</strong>: Runs at 2 AM daily</li>
<li><strong>Custom Schedule</strong>: Uncomment lines in <code>cron.task.ts</code> for different frequencies</li>
</ul>
<h2 id="monitoring--logging" class="tsd-anchor-link">Monitoring &amp; Logging<a href="#monitoring--logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="logs" class="tsd-anchor-link">Logs<a href="#logs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All operations are logged with timestamps and context:</p>
<pre><code><span class="hl-0">[</span><span class="hl-8">2025</span><span class="hl-0">-</span><span class="hl-8">01</span><span class="hl-0">-22</span><span class="hl-1">T10</span><span class="hl-0">:</span><span class="hl-8">30</span><span class="hl-0">:</span><span class="hl-8">00</span><span class="hl-0">.000</span><span class="hl-1">Z</span><span class="hl-0">] [</span><span class="hl-1">INFO</span><span class="hl-0">] </span><span class="hl-2">Starting</span><span class="hl-0"> </span><span class="hl-2">ingestion</span><span class="hl-0"> </span><span class="hl-2">process</span><span class="hl-0">... | </span><span class="hl-10">Context</span><span class="hl-0">: {</span><span class="hl-5">&quot;bucket&quot;</span><span class="hl-0">:</span><span class="hl-5">&quot;my-bucket&quot;</span><span class="hl-0">,</span><span class="hl-5">&quot;prefix&quot;</span><span class="hl-0">:</span><span class="hl-5">&quot;reviews/&quot;</span><span class="hl-0">}</span><br/><span class="hl-0">[</span><span class="hl-8">2025</span><span class="hl-0">-</span><span class="hl-8">01</span><span class="hl-0">-22</span><span class="hl-1">T10</span><span class="hl-0">:</span><span class="hl-8">30</span><span class="hl-0">:</span><span class="hl-8">01</span><span class="hl-0">.000</span><span class="hl-1">Z</span><span class="hl-0">] [</span><span class="hl-1">INFO</span><span class="hl-0">] </span><span class="hl-2">Found</span><span class="hl-0"> </span><span class="hl-8">3</span><span class="hl-0"> </span><span class="hl-1">JSONL</span><span class="hl-0"> </span><span class="hl-2">files</span><span class="hl-0"> </span><span class="hl-6">in</span><span class="hl-0"> </span><span class="hl-1">S3</span><br/><span class="hl-0">[</span><span class="hl-8">2025</span><span class="hl-0">-</span><span class="hl-8">01</span><span class="hl-0">-22</span><span class="hl-1">T10</span><span class="hl-0">:</span><span class="hl-8">30</span><span class="hl-0">:</span><span class="hl-8">02</span><span class="hl-0">.000</span><span class="hl-1">Z</span><span class="hl-0">] [</span><span class="hl-1">INFO</span><span class="hl-0">] </span><span class="hl-2">Processing</span><span class="hl-0"> </span><span class="hl-10">file</span><span class="hl-0">: </span><span class="hl-2">reviews</span><span class="hl-0">/</span><span class="hl-8">2025</span><span class="hl-0">-</span><span class="hl-8">01</span><span class="hl-0">-22.</span><span class="hl-2">jl</span>
</code><button>Copy</button></pre>

<h3 id="health-check" class="tsd-anchor-link">Health Check<a href="#health-check" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Docker health check endpoint: <code>GET /ingestion/status</code></p>
<h3 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>AWS S3 connection failures with retry logic</li>
<li>Malformed JSON data validation and skipping</li>
<li>Database connection and transaction handling</li>
<li>Comprehensive error logging</li>
</ul>
<h2 id="testing-1" class="tsd-anchor-link">Testing<a href="#testing-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-3"># Unit tests</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">test</span><br/><br/><span class="hl-3"># Test coverage</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:cov</span><br/><br/><span class="hl-3"># E2E tests</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:e2e</span><br/><br/><span class="hl-3"># Watch mode</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">test:watch</span>
</code><button type="button">Copy</button></pre>

<h2 id="production-deployment" class="tsd-anchor-link">Production Deployment<a href="#production-deployment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="aws-ecsfargate" class="tsd-anchor-link">AWS ECS/Fargate<a href="#aws-ecsfargate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Build and push Docker image to ECR</li>
<li>Create ECS task definition</li>
<li>Configure environment variables</li>
<li>Set up CloudWatch logging</li>
<li>Configure auto-scaling</li>
</ol>
<h3 id="kubernetes" class="tsd-anchor-link">Kubernetes<a href="#kubernetes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="yaml"><span class="hl-11">apiVersion</span><span class="hl-0">: </span><span class="hl-12">apps/v1</span><br/><span class="hl-11">kind</span><span class="hl-0">: </span><span class="hl-12">Deployment</span><br/><span class="hl-11">metadata</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-11">name</span><span class="hl-0">: </span><span class="hl-12">review-microservice</span><br/><span class="hl-11">spec</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-11">replicas</span><span class="hl-0">: </span><span class="hl-8">2</span><br/><span class="hl-0">  </span><span class="hl-11">selector</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-11">matchLabels</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-11">app</span><span class="hl-0">: </span><span class="hl-12">review-microservice</span><br/><span class="hl-0">  </span><span class="hl-11">template</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-11">metadata</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-11">labels</span><span class="hl-0">:</span><br/><span class="hl-0">        </span><span class="hl-11">app</span><span class="hl-0">: </span><span class="hl-12">review-microservice</span><br/><span class="hl-0">    </span><span class="hl-11">spec</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-11">containers</span><span class="hl-0">:</span><br/><span class="hl-0">      - </span><span class="hl-11">name</span><span class="hl-0">: </span><span class="hl-12">app</span><br/><span class="hl-0">        </span><span class="hl-11">image</span><span class="hl-0">: </span><span class="hl-12">your-registry/review-microservice:latest</span><br/><span class="hl-0">        </span><span class="hl-11">ports</span><span class="hl-0">:</span><br/><span class="hl-0">        - </span><span class="hl-11">containerPort</span><span class="hl-0">: </span><span class="hl-8">3000</span><br/><span class="hl-0">        </span><span class="hl-11">env</span><span class="hl-0">:</span><br/><span class="hl-0">        - </span><span class="hl-11">name</span><span class="hl-0">: </span><span class="hl-12">AWS_REGION</span><br/><span class="hl-0">          </span><span class="hl-11">value</span><span class="hl-0">: </span><span class="hl-5">&quot;us-east-1&quot;</span><br/><span class="hl-0">        </span><span class="hl-3"># ... other env vars</span>
</code><button type="button">Copy</button></pre>

<h2 id="scaling-considerations" class="tsd-anchor-link">Scaling Considerations<a href="#scaling-considerations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="performance-optimization" class="tsd-anchor-link">Performance Optimization<a href="#performance-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Concurrent Processing</strong>: Adjust <code>INGESTION_CONCURRENCY</code> based on resources</li>
<li><strong>Database Indexing</strong>: Optimized indexes on frequently queried fields</li>
<li><strong>Connection Pooling</strong>: TypeORM connection pooling for database efficiency</li>
<li><strong>Memory Management</strong>: Streaming JSON parsing to handle large files</li>
</ul>
<h3 id="horizontal-scaling" class="tsd-anchor-link">Horizontal Scaling<a href="#horizontal-scaling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Multiple service instances can run concurrently</li>
<li>Database-level locking prevents duplicate processing</li>
<li>Stateless design enables easy scaling</li>
</ul>
<h2 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="common-issues" class="tsd-anchor-link">Common Issues<a href="#common-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li><strong>AWS Credentials</strong>: Ensure proper IAM permissions for S3 access</li>
<li><strong>Database Connection</strong>: Check PostgreSQL connectivity and credentials</li>
<li><strong>File Processing</strong>: Verify S3 bucket and prefix configuration</li>
<li><strong>Memory Issues</strong>: Adjust Docker memory limits for large files</li>
</ol>
<h3 id="debug-mode" class="tsd-anchor-link">Debug Mode<a href="#debug-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-2">NODE_ENV</span><span class="hl-0">=</span><span class="hl-5">development</span><span class="hl-0"> </span><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">start:dev</span>
</code><button type="button">Copy</button></pre>

<h2 id="scripts--utilities" class="tsd-anchor-link">Scripts &amp; Utilities<a href="#scripts--utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The project includes several utility scripts for setup and maintenance:</p>
<h3 id="setup-scripts" class="tsd-anchor-link">Setup Scripts<a href="#setup-scripts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">./scripts/test-local-setup.sh</span><span class="hl-0">    </span><span class="hl-3"># Test AWS and database configuration</span><br/><span class="hl-4">./scripts/upload-sample-data.sh</span><span class="hl-0">  </span><span class="hl-3"># Upload sample review data to S3</span><br/><span class="hl-4">./scripts/run-migrations.sh</span><span class="hl-0">      </span><span class="hl-3"># Run database migrations with checks</span><br/><span class="hl-4">./scripts/verify-database.sh</span><span class="hl-0">     </span><span class="hl-3"># Verify database schema and data</span>
</code><button type="button">Copy</button></pre>

<h3 id="code-quality" class="tsd-anchor-link">Code Quality<a href="#code-quality" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">lint</span><span class="hl-0">                     </span><span class="hl-3"># Run ESLint</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">lint:check</span><span class="hl-0">              </span><span class="hl-3"># Check linting without fixing</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">format</span><span class="hl-0">                  </span><span class="hl-3"># Format code with Prettier</span><br/><span class="hl-4">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">format:check</span><span class="hl-0">            </span><span class="hl-3"># Check formatting without fixing</span>
</code><button type="button">Copy</button></pre>

<h2 id="project-structure" class="tsd-anchor-link">Project Structure<a href="#project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">├── </span><span class="hl-2">src</span><span class="hl-0">/</span><br/><span class="hl-0">│   ├── </span><span class="hl-2">app</span><span class="hl-0">.</span><span class="hl-2">module</span><span class="hl-0">.</span><span class="hl-2">ts</span><span class="hl-0">           # </span><span class="hl-2">Main</span><span class="hl-0"> </span><span class="hl-2">application</span><span class="hl-0"> </span><span class="hl-13">module</span><br/><span class="hl-0">│   ├── </span><span class="hl-2">main</span><span class="hl-0">.</span><span class="hl-2">ts</span><span class="hl-0">                 # </span><span class="hl-2">Application</span><span class="hl-0"> </span><span class="hl-2">entry</span><span class="hl-0"> </span><span class="hl-2">point</span><br/><span class="hl-0">│   ├── </span><span class="hl-2">cli</span><span class="hl-0">.</span><span class="hl-2">ts</span><span class="hl-0">                  # </span><span class="hl-1">CLI</span><span class="hl-0"> </span><span class="hl-6">interface</span><br/><span class="hl-0">│   ├── </span><span class="hl-13">config</span><span class="hl-0">/                 # </span><span class="hl-13">Configuration</span><span class="hl-0"> </span><span class="hl-13">management</span><br/><span class="hl-0">│   ├── </span><span class="hl-13">database</span><span class="hl-0">/               # </span><span class="hl-13">Database</span><span class="hl-0"> </span><span class="hl-13">entities</span><span class="hl-0"> </span><span class="hl-13">and</span><span class="hl-0"> </span><span class="hl-13">migrations</span><br/><span class="hl-0">│   ├── </span><span class="hl-13">ingestion</span><span class="hl-0">/              # </span><span class="hl-13">S3</span><span class="hl-0"> </span><span class="hl-13">ingestion</span><span class="hl-0"> </span><span class="hl-13">logic</span><br/><span class="hl-0">│   ├── </span><span class="hl-13">reviews</span><span class="hl-0">/                # </span><span class="hl-13">Reviews</span><span class="hl-0"> </span><span class="hl-13">API</span><span class="hl-0"> </span><span class="hl-13">and</span><span class="hl-0"> </span><span class="hl-13">business</span><span class="hl-0"> </span><span class="hl-13">logic</span><br/><span class="hl-0">│   ├── </span><span class="hl-13">s3</span><span class="hl-0">/                     # </span><span class="hl-13">AWS</span><span class="hl-0"> </span><span class="hl-13">S3</span><span class="hl-0"> </span><span class="hl-13">service</span><br/><span class="hl-0">│   └── </span><span class="hl-13">utils</span><span class="hl-0">/                  # </span><span class="hl-13">Shared</span><span class="hl-0"> </span><span class="hl-13">utilities</span><br/><span class="hl-0">├── </span><span class="hl-13">test</span><span class="hl-0">/                       # </span><span class="hl-13">E2E</span><span class="hl-0"> </span><span class="hl-13">tests</span><br/><span class="hl-0">├── </span><span class="hl-13">scripts</span><span class="hl-0">/                    # </span><span class="hl-13">Utility</span><span class="hl-0"> </span><span class="hl-13">scripts</span><br/><span class="hl-0">├── .</span><span class="hl-13">github</span><span class="hl-0">/</span><span class="hl-13">workflows</span><span class="hl-0">/          # </span><span class="hl-13">CI</span><span class="hl-0">/</span><span class="hl-13">CD</span><span class="hl-0"> </span><span class="hl-13">pipelines</span><br/><span class="hl-0">└── </span><span class="hl-13">docs</span><span class="hl-0">/                       # </span><span class="hl-13">Additional</span><span class="hl-0"> </span><span class="hl-13">documentation</span>
</code><button>Copy</button></pre>

<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="media/API_DOCUMENTATION.md">API Documentation</a> - Complete REST API reference</li>
<li><a href="media/ARCHITECTURE.md">Architecture Guide</a> - System architecture and design patterns</li>
<li><a href="media/AWS_SETUP.md">AWS Setup Guide</a> - AWS S3 configuration and setup</li>
<li><a href="media/DATABASE_SETUP.md">Database Setup</a> - Database schema and migration guide</li>
<li><a href="media/CI_CD_SETUP.md">CI/CD Setup</a> - GitHub Actions pipeline configuration</li>
</ul>
<h2 id="technology-stack" class="tsd-anchor-link">Technology Stack<a href="#technology-stack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="core-technologies" class="tsd-anchor-link">Core Technologies<a href="#core-technologies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Runtime</strong>: Node.js 18+</li>
<li><strong>Framework</strong>: NestJS (TypeScript)</li>
<li><strong>Database</strong>: PostgreSQL with TypeORM</li>
<li><strong>Cloud</strong>: AWS S3</li>
<li><strong>Containerization</strong>: Docker &amp; Docker Compose</li>
</ul>
<h3 id="development-tools" class="tsd-anchor-link">Development Tools<a href="#development-tools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Testing</strong>: Jest (Unit &amp; E2E tests)</li>
<li><strong>Linting</strong>: ESLint with TypeScript rules</li>
<li><strong>Formatting</strong>: Prettier</li>
<li><strong>Type Checking</strong>: TypeScript strict mode</li>
<li><strong>CI/CD</strong>: GitHub Actions</li>
</ul>
<h3 id="production-features" class="tsd-anchor-link">Production Features<a href="#production-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Logging</strong>: Structured JSON logging</li>
<li><strong>Monitoring</strong>: Health checks and metrics</li>
<li><strong>Security</strong>: Input validation, SQL injection prevention</li>
<li><strong>Performance</strong>: Connection pooling, concurrent processing</li>
<li><strong>Reliability</strong>: Idempotent operations, error handling</li>
</ul>
<h2 id="performance-metrics" class="tsd-anchor-link">Performance Metrics<a href="#performance-metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Based on testing with sample data:</p>
<ul>
<li><strong>Ingestion Speed</strong>: ~1000 reviews/second</li>
<li><strong>API Response Time</strong>: &lt;100ms for filtered queries</li>
<li><strong>Memory Usage</strong>: ~150MB base, scales with concurrent processing</li>
<li><strong>Database Performance</strong>: Optimized with proper indexing</li>
</ul>
<h2 id="security-features" class="tsd-anchor-link">Security Features<a href="#security-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Input Validation</strong>: Global validation pipes with class-validator</li>
<li><strong>SQL Injection Prevention</strong>: TypeORM parameterized queries</li>
<li><strong>Environment Security</strong>: Sensitive data in environment variables</li>
<li><strong>AWS Security</strong>: IAM roles and least privilege access</li>
<li><strong>Container Security</strong>: Non-root user, minimal base image</li>
</ul>
<h2 id="monitoring--observability" class="tsd-anchor-link">Monitoring &amp; Observability<a href="#monitoring--observability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="logging" class="tsd-anchor-link">Logging<a href="#logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Structured JSON logs with context</li>
<li>Different log levels (INFO, WARN, ERROR, DEBUG)</li>
<li>Request/response logging</li>
<li>Performance metrics logging</li>
</ul>
<h3 id="health-checks" class="tsd-anchor-link">Health Checks<a href="#health-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Database connectivity check</li>
<li>S3 access verification</li>
<li>Application status endpoint</li>
<li>Docker health check integration</li>
</ul>
<h3 id="metrics" class="tsd-anchor-link">Metrics<a href="#metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Processing statistics (files processed, reviews ingested)</li>
<li>Error rates and types</li>
<li>Performance benchmarks</li>
<li>Resource utilization</li>
</ul>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Fork the repository</li>
<li>Create a feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
<li>Make your changes</li>
<li>Add tests for new functionality</li>
<li>Ensure all tests pass (<code>npm test</code>)</li>
<li>Run linting and formatting (<code>npm run lint &amp;&amp; npm run format</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add amazing feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>
<h3 id="development-guidelines" class="tsd-anchor-link">Development Guidelines<a href="#development-guidelines" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Follow TypeScript strict mode</li>
<li>Write tests for new features</li>
<li>Update documentation for API changes</li>
<li>Use conventional commit messages</li>
<li>Ensure CI/CD pipeline passes</li>
</ul>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License - see LICENSE file for details</p>
<hr>
<h2 id="support" class="tsd-anchor-link">Support<a href="#support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For questions, issues, or contributions:</p>
<ul>
<li>Create an issue on GitHub</li>
<li>Check existing documentation</li>
<li>Review the troubleshooting section</li>
<li>Run the test setup script for configuration issues</li>
</ul>
<p><strong>Happy coding! 🚀</strong></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#review-system-microservice"><span>Review <wbr/>System <wbr/>Microservice</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#architecture"><span>Architecture</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><a href="#1-environment-setup"><span>1. <wbr/>Environment <wbr/>Setup</span></a></li><li><a href="#2-aws-s3-setup"><span>2. <wbr/>AWS <wbr/>S3 <wbr/>Setup</span></a></li><li><a href="#3-database-setup"><span>3. <wbr/>Database <wbr/>Setup</span></a></li><li><a href="#4-local-development"><span>4. <wbr/>Local <wbr/>Development</span></a></li><li><a href="#5-test-the-setup"><span>5. <wbr/>Test the <wbr/>Setup</span></a></li><li><a href="#6-production-deployment"><span>6. <wbr/>Production <wbr/>Deployment</span></a></li></ul></li><li><a href="#available-commands"><span>Available <wbr/>Commands</span></a></li><li><ul><li><a href="#database-migrations"><span>Database <wbr/>Migrations</span></a></li><li><a href="#development"><span>Development</span></a></li><li><a href="#cli-tools"><span>CLI <wbr/>Tools</span></a></li><li><a href="#testing"><span>Testing</span></a></li><li><a href="#docker"><span>Docker</span></a></li></ul></li><li><a href="#api-endpoints"><span>API <wbr/>Endpoints</span></a></li><li><ul><li><a href="#ingestion-endpoints"><span>Ingestion <wbr/>Endpoints</span></a></li><li><ul><li><a href="#trigger-manual-ingestion"><span>Trigger <wbr/>Manual <wbr/>Ingestion</span></a></li><li><a href="#get-ingestion-status"><span>Get <wbr/>Ingestion <wbr/>Status</span></a></li></ul></li><li><a href="#reviews-api-endpoints"><span>Reviews <wbr/>API <wbr/>Endpoints</span></a></li><li><ul><li><a href="#get-reviews-with-filtering"><span>Get <wbr/>Reviews with <wbr/>Filtering</span></a></li><li><a href="#get-review-by-id"><span>Get <wbr/>Review by <wbr/>ID</span></a></li><li><a href="#get-hotel-reviews"><span>Get <wbr/>Hotel <wbr/>Reviews</span></a></li><li><a href="#get-review-statistics"><span>Get <wbr/>Review <wbr/>Statistics</span></a></li><li><a href="#get-available-platforms"><span>Get <wbr/>Available <wbr/>Platforms</span></a></li></ul></li></ul></li><li><a href="#data-schema"><span>Data <wbr/>Schema</span></a></li><li><ul><li><a href="#review-entity"><span>Review <wbr/>Entity</span></a></li><li><a href="#database-tables"><span>Database <wbr/>Tables</span></a></li></ul></li><li><a href="#configuration"><span>Configuration</span></a></li><li><ul><li><a href="#environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><a href="#scheduled-jobs"><span>Scheduled <wbr/>Jobs</span></a></li></ul></li><li><a href="#monitoring--logging"><span>Monitoring &amp; <wbr/>Logging</span></a></li><li><ul><li><a href="#logs"><span>Logs</span></a></li><li><a href="#health-check"><span>Health <wbr/>Check</span></a></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li></ul></li><li><a href="#testing-1"><span>Testing</span></a></li><li><a href="#production-deployment"><span>Production <wbr/>Deployment</span></a></li><li><ul><li><a href="#aws-ecsfargate"><span>AWS <wbr/>ECS/<wbr/>Fargate</span></a></li><li><a href="#kubernetes"><span>Kubernetes</span></a></li></ul></li><li><a href="#scaling-considerations"><span>Scaling <wbr/>Considerations</span></a></li><li><ul><li><a href="#performance-optimization"><span>Performance <wbr/>Optimization</span></a></li><li><a href="#horizontal-scaling"><span>Horizontal <wbr/>Scaling</span></a></li></ul></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><ul><li><a href="#common-issues"><span>Common <wbr/>Issues</span></a></li><li><a href="#debug-mode"><span>Debug <wbr/>Mode</span></a></li></ul></li><li><a href="#scripts--utilities"><span>Scripts &amp; <wbr/>Utilities</span></a></li><li><ul><li><a href="#setup-scripts"><span>Setup <wbr/>Scripts</span></a></li><li><a href="#code-quality"><span>Code <wbr/>Quality</span></a></li></ul></li><li><a href="#project-structure"><span>Project <wbr/>Structure</span></a></li><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#technology-stack"><span>Technology <wbr/>Stack</span></a></li><li><ul><li><a href="#core-technologies"><span>Core <wbr/>Technologies</span></a></li><li><a href="#development-tools"><span>Development <wbr/>Tools</span></a></li><li><a href="#production-features"><span>Production <wbr/>Features</span></a></li></ul></li><li><a href="#performance-metrics"><span>Performance <wbr/>Metrics</span></a></li><li><a href="#security-features"><span>Security <wbr/>Features</span></a></li><li><a href="#monitoring--observability"><span>Monitoring &amp; <wbr/>Observability</span></a></li><li><ul><li><a href="#logging"><span>Logging</span></a></li><li><a href="#health-checks"><span>Health <wbr/>Checks</span></a></li><li><a href="#metrics"><span>Metrics</span></a></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#development-guidelines"><span>Development <wbr/>Guidelines</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li><li><a href="#support"><span>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Review System Microservice API Documentation - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
